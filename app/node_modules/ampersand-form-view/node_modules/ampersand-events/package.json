{
  "name": "ampersand-events",
  "description": "Module that can be mixed into any object to provide eventing. Heavily based on Backbone Events.",
  "version": "1.1.1",
  "author": {
    "name": "Henrik Joreteg",
    "email": "henrik@andyet.net"
  },
  "browserify": {
    "transform": [
      "ampersand-version"
    ]
  },
  "files": [
    "ampersand-events.js",
    "NOTICE.md"
  ],
  "bugs": {
    "url": "https://github.com/ampersandjs/ampersand-events/issues"
  },
  "dependencies": {
    "ampersand-version": "^1.0.2",
    "lodash.assign": "^3.0.0",
    "lodash.bind": "^3.1.0",
    "lodash.foreach": "^3.0.2",
    "lodash.isempty": "^3.0.1",
    "lodash.keys": "^3.0.5",
    "lodash.once": "^3.0.0",
    "lodash.uniqueid": "^3.0.0"
  },
  "devDependencies": {
    "lodash.debounce": "^3.0.3",
    "lodash.size": "^3.0.0",
    "tap-spec": "^2.1.2",
    "tape": "^3.4.0",
    "zuul": "^1.16.5"
  },
  "homepage": "https://github.com/ampersandjs/ampersand-events",
  "keywords": [
    "ampersand",
    "events"
  ],
  "license": "MIT",
  "main": "ampersand-events.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/ampersandjs/ampersand-events"
  },
  "scripts": {
    "test": "node test/index.js | tap-spec",
    "test-browser": "zuul --local 8080 -- test/index.js",
    "test-ci": "zuul -- test/index.js"
  },
  "readme": "# ampersand-events\n\n<!-- starthide -->\nPart of the [Ampersand.js toolkit](http://ampersandjs.com) for building clientside applications.\n<!-- endhide -->\n\nA module that can be mixed into any object to make it able to trigger events and be listened to. This is heavily based on Backbone Events with a few modifications.\n\n## Install\n\n```\nnpm install ampersand-events\n```\n\n## Example usage\n\n`ampersand-events` is simply an object of methods. So you can easily add those to any object using any of the following techniques.\n\n\n### Adding events to a constructor or \"class\"\n\n```javascript\nvar Events = require('ampersand-events');\nvar assign = require('lodash.assign');\n\n// Create some constructor\nvar MyConstructor = function () {};\n\n// Extend the prototype with the event methods and your own:\nassign(MyConstructor.prototype, Events, {\n    myOtherMethods: function () {}\n});\n\n// Now we can trigger and listen for events on\n// any instances created with our constructor.\nvar myObj = new MyConstructor();\n```\n\n### Using with plain objects\n\n```javascript\nvar Events = require('ampersand-events');\n\n// Events has an `createEmitter` helper that you can pass\n// any object to to add event methods to.\nvar myObj = {};\nEvents.createEmitter(myObj);\n\n// it now has event methods\nmyObject.trigger('some event');\n```\n\n### Using as an event bus / or pubsub channel\n\nYou can call `Event.createEmitter()` without any arguments to create an \"empty\" event emitter.\n\nThis can be really useful for creating what you might call an \"event bus\" or \"pubsub\" mechanism for things like application events, or whatnot.\n\nSay you created a module like this:\n\n```\nvar Events = require('ampersand-events');\n\nmodule.exports = Events.createEmitter();\n```\n\nAny module in your app could now require this module and trigger events that other modules in your app could listen for.\n\n## API Reference\n\n### createEmitter `Events.createEmitter([object])`\n\nModifies any passed object to add event capabilities to it. If you don't pass any object, it simply creates and returns a new object with event capabilities.\n\n* `object` {Object} [Optional] Any object you want to add event capabilities to.\n\nIt simply adds the event methods to the passed in object.\n\n```javascript\nvar myObj = {};\nEvents.createEmitter(myObj);\n\nmyObj.on('customEvent', function () {\n    // handle event\n});\nmyObj.trigger('customEvent');\n```\n\n### on `eventObj.on(eventName, callback, [context])`\n\n(aliased as `bind` for backwards compatibility)\n\nBind a function to be called each time the `eventName` is triggered on that object.\n\n* `eventName` {String} The name of the event to listen for. Can also be `\"all\"` which will call your callback no matter what event is triggered.\n* `callback` {Function} The function to call when the event is triggered.\n* `context` {Object}[optional] If you provide an object here it will be the value of `this` inside your callback function.\n\n```javascript\nmyObj.on('anything', function () {\n    console.log('I can handle anything!');\n});\n```\n\n### once `eventObj.once(eventName, callback, [context])`\n\nExactly like `on` but removes itself after getting called once no matter how many times the event is triggered.\n\n### off `eventObj.off([eventName], [callback], [context])`\n\n(aliased as `unbind` for backwards compatibility)\n\nRemove previously bound callback(s) from the object. If no context is specified all versions of callback no matter what context was given will be removed. If no callback was specified, all callbacks for that given `eventName` will be removed. If no `eventName` was specified callbacks for all events are removed.\n\n* `eventName` {String} The name of the event to remove. Pass `null` to \"leave blank\". \n* `callback` {Function} The function to remove or pass `null` to \"leave blank\".\n* `context` {Object} Remove all callbacks with this context.\n\n\nThese can be used in any combination as shown below:\n\n```javascript\n// Removes the `onChange` callback\neventObj.off('change', onChange);\n\n// Removes all callbacks listening for 'change' events\neventObj.off('change');\n\n// Removes the `onChange` callback for any event\neventObj.off(null, onChange);\n\n// Removes all callbacks for a given `context`\neventObj.off(null, null, context);\n\n// Removes all callbacks no matter what\neventObj.off();\n```\n\n### trigger `eventObj.trigger(eventName, [argsToPassOn])`\n\nTriggers all the callbacks for the given `eventName`.\n\n* `eventName` {String} Name of event, or space-delimited list of events.\n* `argsToPassOn` { ... } Any additional arguments will simply be used to call the callbacks that are listening for this event.\n\n```javascript\neventObj.on('change', function (payload) {\n    // `payload` will be the `{some: 'object'}` instance\n    // from below.\n});\neventObj.trigger('change', {some: 'object'});\n```\n\n### listenTo `eventObj.listenTo(otherEventObj, eventName, callback)`\n\nTell an `eventObject` to listen to `eventName` on another object. This is another form of `on` that makes it easier to create an object that listens to events from other objects and keep track of them. This makes it so we can easily listen to several different events from several different objects but make it simple to remove them all at once. \n\nFor example, if we use `.listenTo` to listen to model changes it cares about in an ampersand-view the view will know what callbacks it needs to unregister if it gets removed.\n\n* `otherEventObj` {Event object} The other object to listen to.\n* `eventName` {String} Event to listen to (can also be space delimited list of events).\n* `callback` {Function} The function to call when event occurs.\n\n**Note:** the callback will always be called with the `eventObj` as the `this` value.\n\n```javascript\nview.listenTo(model, 'change', view.render);\n// when `view.render` is called `this` will be `view`\n```\n\n### listenToOnce `eventObj.listenToOnce(otherEventObj, eventName, callback)`\n\nSame as `listenTo` but it unregisters itself after getting called once no matter how many times the events is triggered.\n\n### listenToAndRun `eventObj.listenToAndRun(otherEventObj, eventName, callback)`\n\nSame as `listenTo` but also immediately executes the registered callback once right away. This can be useful for things like methods that re-calculate totals, but that also need to be run once to calculate the initial value.\n\n### stopListening `eventObj.stopListening([otherEventObj], [eventName], [callback])`\n\nTells the `eventObj` to stop listening to events. Most commonly it's used without arguments to remove all callbacks an object registered before destroying the object. For example `ampersand-view` calls `this.stopListening()` as part of `.remove()`. \n\nHowever, you can also use `stopListening` with specific objects, events or callbacks.\n\n* `otherEventObj` {Event object} The other object being listened to.\n* `eventName` {String} A specific string or space-delimited list of events to stop listening to.\n* `callback` {Function} A specific callback to remove.\n\nThese can be used in any combination as shown below:\n\n```javascript\n// Stops listening to everything\neventObj.stopListening();\n\n// Stop listening to a specific object\neventObj.stopListening(object);\n\n// Stop listening to all 'change' events from any model\neventObj.stopListening(null, 'change');\n\n// Remove just a specific `callback`\neventObj.stopListening(null, null, callback);\n```\n\n## license\n\nMIT\n\n",
  "readmeFilename": "README.md",
  "_id": "ampersand-events@1.1.1",
  "_from": "ampersand-events@^1.1.1"
}
