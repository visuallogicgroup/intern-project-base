{
  "name": "ampersand-rest-collection",
  "description": "ampersand-collection with REST and Lodash mixins.",
  "version": "4.0.0",
  "author": {
    "name": "Henrik Joreteg",
    "email": "henrik@andyet.net"
  },
  "browserify": {
    "transform": [
      "ampersand-version"
    ]
  },
  "bugs": {
    "url": "https://github.com/ampersandjs/ampersand-rest-collection/issues"
  },
  "dependencies": {
    "ampersand-collection": "^1.4.5",
    "ampersand-collection-rest-mixin": "^4.1.1",
    "ampersand-collection-lodash-mixin": "^2.0.0",
    "ampersand-version": "^1.0.2"
  },
  "devDependencies": {
    "browserify": "^9.0.6",
    "phantomjs": "^1.9.16",
    "precommit-hook": "^2.0.1",
    "run-browser": "^2.0.2",
    "tap-spec": "^3.0.0",
    "tape": "^3.5.0",
    "tape-run": "^1.0.0"
  },
  "homepage": "https://github.com/ampersandjs/ampersand-rest-collection",
  "keywords": [
    "collection",
    "rest",
    "models"
  ],
  "license": "MIT",
  "main": "ampersand-rest-collection.js",
  "repository": {
    "type": "git",
    "url": "git://github.com/ampersandjs/ampersand-rest-collection"
  },
  "scripts": {
    "start": "run-browser test/*",
    "test": "browserify test/* | tape-run | tap-spec"
  },
  "files": [
    "ampersand-rest-collection.js"
  ],
  "testling": {
    "files": "test/*.js",
    "browsers": [
      "ie/8..latest",
      "firefox/17..latest",
      "firefox/nightly",
      "chrome/22..latest",
      "chrome/canary",
      "opera/12..latest",
      "opera/next",
      "safari/5.1..latest",
      "ipad/6.0..latest",
      "iphone/6.0..latest",
      "android-browser/4.2..latest"
    ]
  },
  "readme": "# ampersand-rest-collection\n\nExtends ampersand-collection with REST and Lodash mixins.\n\nThis makes ampersand-collection work and act a lot like Backbone.Collection, if youre planning on hitting a REST-ful API this is probably what you want to use.\n\n<!-- starthide -->\n## browser support\n\n[![testling badge](https://ci.testling.com/AmpersandJS/ampersand-rest-collection.png)](https://ci.testling.com/AmpersandJS/ampersand-rest-collection)\n\nPart of the [Ampersand.js toolkit](http://ampersandjs.com) for building clientside applications.\n<!-- endhide -->\n\n## Install\n\n```\nnpm install ampersand-rest-collection\n```\n\n<!-- starthide -->\n## example\n\nDefine a collection\n\n```javascript\nvar Collection = require(\"ampersand-rest-collection\");\nvar Model = require(\"some-model\");\n\n\nmodule.exports = Collection.extend({\n    model: Model,\n    url: \"/models\"\n});\n```\n\nUsing it:\n\n```javascript\nvar Collection = require(\"./path-to-your-collection-module\");\n\n\nvar c = new Collection();\n\n// call RESTful methods\nc.fetch();\n\n// also has lodash mixins\nc.each(function (model) {\n    console.log(\"model:\", model);\n});\n```\n<!-- endhide -->\n\n## API Reference\n\nThe ampersand-rest-collection is simply an [ampersand-collection](#ampersand-collection) extended with two mixins: ampersand-collection-rest-mixin and ampersand-collection-lodash-mixin.\n\n```javascript\nvar Collection = require(\"ampersand-collection\");\nvar lodashMixin = require(\"ampersand-collection-lodash-mixin\");\nvar restMixins = require(\"ampersand-collection-rest-mixin\");\n\nmodule.exports = Collection.extend(lodashMixin, restMixins);\n```\n\n### ajaxConfig `AmpersandRestCollection.extend({ ajaxConfig: function () { ... } })`\n\nampersand-sync will call ajaxConfig on your collection before it makes the request to the server, and will merge in any options you return to the request. When extending your own collection, set an ajaxConfig function to modify the request before it goes to the server.\n\najaxConfig can either be an object, or a function that returns an object, with the following options:\n\n* `useXDR` [boolean]: (applies to IE9 only with cross domain requests): signifies that this is a cross-domain request and that IE should use it's XDomainRequest object. This is required if you're making cross-domain requests and want to support IE9). Note that XDR doesn't support headers/withCredentials.\n* `headers` [object]: any extra headers to send with the request.\n* `xhrFields` [object]: any fields to set directly on the [XHR](https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest) request object, most typically:\n    * `withCredentials` [boolean]: whether to send cross domain requests with authorization headers/cookies. Useful if you're making cross sub-domain requests with a root-domain auth cookie.\n* `beforeSend` [function]: beforeSend will be called before the request is made, and will be passed the raw `xhr` object if you wish to modify it directly before it's sent.\n\n```javascript\nvar MyCollection = AmpersandRestCollection.extend({\n    url: 'http://otherdomain.example.com/stuff',\n\n    ajaxConfig: function () {\n        return {\n            headers: {\n                'Access-Token': this.accessToken\n            },\n            xhrFields: {\n                withCredentials: true\n            }\n        };\n    }\n});\n\nvar collection = new MyCollection()\ncollection.fetch();\n```\n\n### fetch `collection.fetch([options])`\n\nFetch the default set of models for the collection from the server, [setting](#ampersand-collection-set) them on the collection when they arrive. If the collection already contains data, by default, the operation of [set](#ampersand-collection-set) will add new models from the server, merge the attributes of existing ones, and remove any which aren't in the response. This behaviour can be modified with the `reset`, `add`, `remove`, `merge` options.\n\nOptions:\n\n* `success` {Function} [optional] - callback to be called if the request was successful, will be passed `(collection, response, options)` as arguments.\n* `error` {Function} [optional] - callback to be called if the request was not successful, will be passed `(collection, response, options)` as arguments.\n* `reset` {Boolean} [optional] - call [reset](#ampersand-collection-reset) instead of set with the models returned from the server, _defaults to false_.\n* `add` {Boolean} [optional] - (assuming `reset` is false), `{add: false}` prevents the call to `set` from adding new models retrieved from the server that aren't in the local collection. _Defaults to false_\n* `remove` {Boolean} [optional] - (assuming `reset` is false), `{remove: false}` prevents the call to `set` from removing models that are in the local collection but aren't returned by the server. _Defaults to false_\n* `merge` {Boolean} [optional] - (assuming `reset` is false), `{merge: false}` prevents the call to `set` from updating models in the local collection which have changed on the server. _Defaults to false_\n\nYou can also pass any options that [xhr](https://github.com/Raynos/xhr) expects to modify the query. For example: to fetch a specific page of a paginated collection: `collection.fetch({ data: { page: 3 } })`\n\n### getOrFetch `collection.getOrFetch('id', [options], callback)`\n\nConvenience method. Gets a model from the server or from the collection if a model with that id already exists.\n\nBy default it will only fetch and add the model with the id you pass in.\n\n```js\ncollection.getOrFetch('42', function (err, model) {\n    if (err) {\n        console.log('handle');\n    } else {\n        // `model` here is a fully inflated model\n        // It gets added to the collection automatically.\n        // If the collection was empty before, it's got 1\n        // now.\n    }\n});\n```\n\nIf you pass `{all: true}` it will fetch the entire collection (by calling its `fetch` method) and then do a `get` to attempt to pull out the model by the id you specified.\n\n```js\ncollection.getOrFetch('42', {all: true}, function (err, model) {\n    if (err) {\n        console.log('handle');\n    } else {\n        // `model` here is a fully inflated model\n        // It gets added to the collection automatically.\n    }\n});\n```\n\n### fetchById `collection.fetchById('id', callback)`\n\nFetches and adds a model by id to the collection. This is what `getOrFetch` uses if it doesn't have a model already.\n\n```js\ncollection.fetchById('42', function (err, model) {\n    // returns inflated, added model with a `null` error\n    // or an error object.\n});\n```\n\n### create `collection.create(model, [options])`\n\nConvenience to create a new instance of a model within a collection. Equivalent to instantiating a model with a hash of attributes, saving the model to the server, and adding the model to the set after being successfully created. Returns the new model. If client-side validation failed, the model will be unsaved, with validation errors. In order for this to work, you should set the `model` property of the collection. The create method can accept either an attributes hash or an existing, unsaved model object.\n\nCreating a model will cause an immediate ``\"add\"`` event to be triggered on the collection, a `\"request\"` event as the new model is sent to the server, as well as a `\"sync\"` event, once the server has responded with the successful creation of the model. Pass `{wait: true}` if you'd like to wait for the server before adding the new model to the collection.\n\n```\nvar Library = AmpersandRestCollection.extend({\n  model: Book\n});\n\nvar library = new Library;\n\nvar othello = library.create({\n  title: \"Othello\",\n  author: \"William Shakespeare\"\n});\n```\n\n### sync `model.sync(method, collection, [options])`\n\nSimple delegation to ampersand-sync to persist the collection to the server. Can be overridden for custom behaviour.\n\n### lodash methods (42)\n\nThe ampersand-collection-lodash-mixin proxies the collection methods in lodash onto the underlying models array for the collection. For example:\n\n```javascript\nbooks.each(function(book) {\n  book.publish();\n});\n\nvar titles = books.map(function(book) {\n  return book.get(\"title\");\n});\n\nvar publishedBooks = books.filter(function(book) {\n  return book.get(\"published\") === true;\n});\n\nvar alphabetical = books.sortBy(function(book) {\n  return book.author.get(\"name\").toLowerCase();\n});\n```\n\nThe full list of proxied methods is:\n\n* [countBy](https://lodash.com/docs#countBy)\n* [difference](https://lodash.com/docs#difference)\n* [drop](https://lodash.com/docs#drop)\n* [each](https://lodash.com/docs#each)\n* [every](https://lodash.com/docs#every)\n* [filter](https://lodash.com/docs#filter)\n* [findWhere](https://lodash.com/docs#findWhere)\n* [find](https://lodash.com/docs#find)\n* [first](https://lodash.com/docs#first)\n* [forEach](https://lodash.com/docs#forEach)\n* [groupBy](https://lodash.com/docs#groupBy)\n* [includes](https://lodash.com/docs#includes)\n* [indexBy](https://lodash.com/docs#indexBy)\n* [indexOf](https://lodash.com/docs#indexOf)\n* [initial](https://lodash.com/docs#initial)\n* [invoke](https://lodash.com/docs#invoke)\n* [isEmpty](https://lodash.com/docs#isEmpty)\n* [lastIndexOf](https://lodash.com/docs#lastIndexOf)\n* [last](https://lodash.com/docs#last)\n* [map](https://lodash.com/docs#map)\n* [max](https://lodash.com/docs#max)\n* [min](https://lodash.com/docs#min)\n* [partition](https://lodash.com/docs#partition)\n* [pluck](https://lodash.com/docs#pluck)\n* [reduceRight](https://lodash.com/docs#reduceRight)\n* [reduce](https://lodash.com/docs#reduce)\n* [reject](https://lodash.com/docs#reject)\n* [rest](https://lodash.com/docs#rest)\n* [sample](https://lodash.com/docs#sample)\n* [shuffle](https://lodash.com/docs#shuffle)\n* [size](https://lodash.com/docs#size)\n* [some](https://lodash.com/docs#some)\n* [sortBy](https://lodash.com/docs#sortBy)\n* [take](https://lodash.com/docs#take)\n* [where](https://lodash.com/docs#where)\n* [without](https://lodash.com/docs#without)\n\n<!-- starthide -->\n## credits\n\nIf you like this follow [@HenrikJoreteg](http://twitter.com/henrikjoreteg) on twitter.\n\n## license\n\nMIT\n\n<!-- endhide -->\n",
  "readmeFilename": "README.md",
  "_id": "ampersand-rest-collection@4.0.0",
  "_from": "ampersand-rest-collection@^4.0.0"
}
